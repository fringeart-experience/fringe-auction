<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fringe Auction</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      max-width: 600px;
      margin: auto;
      font-size: 20px;
    }
  img {
    width: 100%;
    height: auto;
    display: block;
    margin: 0 auto;
  }
    h1 {
      color: #085651;
      font-size: 26px;
      text-align: center;
      margin-bottom: 5px;
      margin-top: 35px;
    }
    #status {
      margin-top: 10px;
      font-weight: bold;
      color: #C26363;
      text-align: center;
    }
    form {
      margin-top: 20px;
      font-size: 18px;
    }
    input, button {
      padding: 8px;
      margin: 5px 0;
      width: 100%;
      box-sizing: border-box;
      font-size: 20px;
    }
    button {
      background: #085651;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background: #555;
    }
    .subtitle {
      font-size: 16px;
      text-align: center;
      margin-top: 2px;
      margin-bottom: 5px;
    }
    .current-leader-display {
      color: #C26363;
      font-weight: bold;
      padding-top: 0px;
      text-align: center;
    }
    #bidNote {
      font-size: 16px;
      text-align: center;
      margin: 10px 0;
      color: #085651;
    }
  .intro {
    font-size: 20px;
    font-size-adjust: inherit;
}
  </style>
</head>
<body>
  <em><strong><a href="https://www.fringeart.org"><img src="Dec2025_SteedDonatedOrnaments.jpeg" width="3024" height="3024" alt=""></a></strong></em>
  
  <h1><strong>12 ARTISTS - 12 AUCTIONS - 12 ARTWORKS</strong></h1>
<p class="intro">&nbsp;             &nbsp;This month's featured auction item is a curated collection of five handmade ornaments by Fringe member artists <a href="https://www.fringeart.org/maggieboudreaux">Maggie Boudreaux</a>, <a href="https://www.fringeart.org/shellynealy">Shelly Nealy</a>, and <a href="https://www.fringeart.org/emilypullin">Emily Pullin</a>.</p>
<p class="intro">&nbsp; &nbsp;This playful, artful and ready-to-hang collection donated by member artist Lynda Steed is ready to shine on your tree, wreaths, or any other holiday display!</p>
<p class="intro">&nbsp; &nbsp;This group is perfect for gifting, or keeping! Especially with the auction date ending on December 20th, just in time to bring these beauties home for Christmas.&nbsp; &nbsp;</p>
  <p class="intro">&nbsp;</p>
<p class="subtitle"><em class="intro">All auctions support Fringe: An Art Experience.</em></p>
<p class="subtitle"><em><a href="https://www.fringeart.org">Click here to return to the Fringe website.&nbsp;&nbsp;</a></em></p>
<p class="subtitle">&nbsp;</p>
<p id="countdown" style="text-align:center; padding: 10px 0; font-weight:bold; color:#C26363; font-size:20px;">
  Auction begins in: loading...
</p>

  <p class="current-leader-display" id="currentLeaderContainer">
    Current Leader: <span id="currentLeader">Loading...</span> with a bid of $<span id="currentBid">Loading...</span>
  </p>

  <form id="bidForm">
    <label><strong>Bidder Name:</strong><br />
      <input type="text" id="bidderName" required />
    </label><br />
    <label><em>Your name will not be released to the public unless permitted.</em></label><br /><br />

    <label><strong>Bidding Nickname</strong> (optional):<br />
      <input type="text" id="bidderNickname" />
    </label><br />
    <label><em>Nicknames will be displayed next to the current highest bid.</em></label><br /><br />

    <label><strong>Bidder Email:</strong><br />
      <input type="email" id="bidderEmail" required />
    </label><br />
    <label><em>Email addresses are only used to contact the bidders about the Auction.</em></label><br /><br />

    <label><strong>Bid Amount:</strong></label><br />
    <span style="display: inline-flex; align-items: center; width: 100%;">
      <span><strong>$</strong>&nbsp;</span>
      <input type="number" id="bidAmount" required min="100" step="10" style="flex: 1;" />
    </span><br />

    <p id="bidNote">Loading bidding information...</p>

    <button type="submit">Place Bid</button>
  </form>

  <p id="status"></p>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
  import { getDatabase, ref, onValue, push, update } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBTmrFoE2kyAFvZVqkhhuJaOFCXBbRq-8M",
    authDomain: "auctions-fringe12.firebaseapp.com",
    projectId: "auctions-fringe12",
    storageBucket: "auctions-fringe12.firebasestorage.app",
    messagingSenderId: "534345798049",
    appId: "1:534345798049:web:4d71d0f4a6c18782847be0",
    measurementId: "G-4ZB48GFTNN",
    databaseURL: "https://auctions-fringe12-default-rtdb.firebaseio.com"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  const artworkRef = ref(db, 'fringeAuction/artworkDec');
  const bidsRef = ref(db, 'fringeAuction/artworkDec/bids');

  // Live updating bid display
  onValue(artworkRef, (snapshot) => {
    const data = snapshot.val() || {};
    const currentBid = data.currentBid || 0;

    document.getElementById('currentBid').textContent = currentBid;
    document.getElementById('currentLeader').textContent = data.bidderNickname || "No bids yet";

    const nextBid = currentBid > 0 ? currentBid + 10 : 100;
    document.getElementById('bidAmount').value = nextBid;
    document.getElementById('bidNote').textContent =
      currentBid ? `Next minimum bid: $${nextBid}` : `Bidding starts at $100`;
  });

  // Handle submissions
  document.getElementById('bidForm').addEventListener('submit', (e) => {
    e.preventDefault();

    const name = document.getElementById('bidderName').value.trim();
    const email = document.getElementById('bidderEmail').value.trim();
    const nickname = document.getElementById('bidderNickname').value.trim() || "Anonymous";
    const amount = parseFloat(document.getElementById('bidAmount').value);

    update(artworkRef, {
      currentBid: amount,
      bidderName: name,
      bidderNickname: nickname,
      bidderEmail: email,
    });
    push(bidsRef, {
      bidAmount: amount,
      bidderName: name,
      bidderNickname: nickname,
      bidderEmail: email,
      timestamp: Date.now()
    });

    document.getElementById('status').textContent = "âœ” Bid submitted successfully!";
  });
</script>
</body>
</html>